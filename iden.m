function tab = iden(sign,unite)

    
    sign_tmp = zeros(95,1);
    for i=1:95
        sign_tmp(i) = fix(sum(sign(1+(i-1)*unite:i*unite))/unite);
    end
    %type de message
    A = ~[...
        [1,1,1,0,0,1,0];...
        [1,1,0,0,1,1,0];...
        [1,1,0,1,1,0,0];...
        [1,0,0,0,0,1,0];...
        [1,0,1,1,1,0,0];...
        [1,0,0,1,1,1,0];...
        [1,0,1,0,0,0,0];...
        [1,0,0,0,1,0,0];...
        [1,0,0,1,0,0,0];...
        [1,1,1,0,1,0,0] ];
    B = ~[...
        [1,0,1,1,0,0,0];...
        [1,0,0,1,1,0,0];...
        [1,1,0,0,1,0,0];...
        [1,0,1,1,1,1,0];...
        [1,1,0,0,0,1,0];...
        [1,0,0,0,1,1,0];...
        [1,1,1,1,0,1,0];...
        [1,1,0,1,1,1,0];...
        [1,1,1,0,1,1,0];...
        [1,1,0,1,0,0,0] ];
    C = ~[...
        [0,0,0,1,1,0,1];...
        [0,0,1,1,0,0,1];...
        [0,0,1,0,0,1,1];...
        [0,1,1,1,1,0,1];...
        [0,1,0,0,0,1,1];...
        [0,1,1,0,0,0,1];...
        [0,1,0,1,1,1,1];...
        [0,1,1,1,0,1,1];...
        [0,1,1,0,1,1,1];...
        [0,0,0,1,0,1,1] ];
        
    %tableau de determination du premier chiffre
    premier = [...
        [0,0,0,0,0,0];...
        [0,0,1,0,1,1];...
        [0,0,1,1,0,1];...
        [0,0,1,1,1,0];...
        [0,1,0,0,1,1];...
        [0,1,1,0,0,1];...
        [0,1,1,1,0,0];...
        [0,1,0,1,0,1];...
        [0,1,0,1,1,0];...
        [0,1,1,0,1,0] ];
    
        
    sign_garde = sign_tmp(4:end-3); %On enlève les gardes des bords
    tab = zeros(13,1); % tableau de nombre du code barre
    famille = zeros(6,1); % familles des chiffres 2 a 6
    
    for i = 1:6
        minval = 999;
        minind = 0;
        minfam = -1;
        lettre = sign_garde(1+(i-1)*7:i*7);
        for j = 1:10
            norma = norm(lettre' - A(j,:));
            if norma < minval
               minval = norma;
               minind = j;
               minfam = 0;
            end
            normb = norm(lettre' - B(j,:));
            if normb < minval
               minval = normb;
               minind = j;
               minfam = 1;
            end
            normc = norm(lettre' - C(j,:));
            if normc < minval
               minval = normc;
               minind = j;
               minfam = 2;
            end 
        end
        tab(i+1) = minind;
        famille(i) = minfam;
    end
    
    %determination du premier chiffre
    minind = -1;
    minval = 999;
    for i=1:9
        n = norm(premier(i,:)-famille');
        if n< minval
            minval = n;
            minind = i;
        end
    end
    tab(1)=minind;
    %On passe la garde central
    sign_garde_final = sign_garde(5:end);
    
    for i = 1:6
        minval = 999;
        minind = 0;
        lettre = sign_garde_final(1+(i-1)*7:i*7);
        for j = 1:10
            norma = norm(lettre' - A(j,:));
            if norma < minval
               minval = norma;
               minind = j;
            end
            normb = norm(lettre' - B(j,:));
            if normb < minval
               minval = normb;
               minind = j;
            end
            normc = norm(lettre' - C(j,:));
            if normc < minval
               minval = normc;
               minind = j;
            end
        end
        tab(i+7) = minind;
    end
    
    tab(13) = 10 - mod(sum(tab(1:2:11)) + 3*sum(tab(2:2:12)),10);

end